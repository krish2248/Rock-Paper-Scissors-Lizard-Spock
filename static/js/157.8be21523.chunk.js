"use strict";(self.webpackChunkrock_paper_scissors=self.webpackChunkrock_paper_scissors||[]).push([[157],{1157:function(t,n,e){e.r(n),e.d(n,{default:function(){return I},socket:function(){return U}});var r,o,a,i=e(9439),s=e(2791),c=e(3153),l=e(4123),f=e(785),u=e(5995),d=e(895),m=e(3641),p=e(5326),h=e(6437),x=e(3585),y=e(6503),j=e(9397),g=e(4087),k=e(4565),v=e(184),b=function(){var t=(0,c.C)((function(t){return t.onlinePlayers})),n=t.playerOneActive,e=t.playerChoice,r=t.opponent,o=(0,c.C)((function(t){return t.onlineScorer})),a=o.resultOut,l=o.winnerText,f=o.didWin,u=(0,c.T)(),m=d.Z.filter((function(t){return t.title===e})),b=(0,i.Z)(m,1)[0],w=null===b||void 0===b?void 0:b.image,C=d.Z.filter((function(t){return t.title===r})),S=(0,i.Z)(C,1)[0],Z=null===S||void 0===S?void 0:S.image;(0,s.useEffect)((function(){return U.on("result",(function(t){u((0,x.hP)(!0));var e=t.winner;"player1"===e&&n||"player2"===e&&!n?(u((0,x.HY)("you win")),u((0,x.nP)()),u((0,x.Kh)(!0))):"player1"===e||"player2"===e?(u((0,x.HY)("you lose")),u((0,x.Mj)())):u((0,x.HY)("draw"))})),u((0,j.kG)("")),U.on("restart-message",(function(t){u((0,j.kG)(t))})),function(){U.off("result"),U.off("restart-message")}}),[a]);return(0,v.jsxs)(k.rA,{children:[(0,v.jsxs)(k.AX,{spaceBetween:a,children:[(0,v.jsx)(p.Z,{title:e,image:w,won:f,customSize:!0},11),a?(0,v.jsx)(p.Z,{title:r,image:Z,customSize:!0},22):(0,v.jsx)(k.nq,{className:"empty",large:!0})]}),(0,v.jsxs)(k.vw,{children:[(0,v.jsx)("p",{children:"you picked"}),(0,v.jsx)("p",{children:"an opposer picked"})]}),a&&(0,v.jsxs)(g.H,{children:[(0,v.jsx)("p",{children:l}),(0,v.jsx)(h.Z,{type:"button",btnStyle:"play again",children:"play again",handler:function(){u((0,y.r7)(!1)),u((0,x.Kh)(!1)),u((0,x.hP)(!1)),U.emit("restart"),u((0,j.YU)(""))}})]})]})},w=e(9522),C=function(){var t=(0,u.Z)(m,{volume:.25}),n=(0,i.Z)(t,1)[0],e=(0,c.C)((function(t){return t.onlinePlayers})),r=e.playerOneActive,o=e.gamePlay,a=(0,c.C)((function(t){return t.socket})).room,l=(0,c.T)();(0,s.useEffect)((function(){return U.on("p1Choice",(function(t){var n=t.choice;!r&&l((0,y.Ql)(n))})),U.on("p2Choice",(function(t){var n=t.choice;r&&l((0,y.Ql)(n))})),function(){U.off("p1Choice"),U.off("p2Choice")}}),[]);var f=function(t){l((0,y.r7)(!o));var e=t.target.closest("#icon-wrapper").value;l((0,y.FY)(e)),n();var i=r?"p1Choice":"p2Choice";U.emit(i,{choice:e,room:a}),U.emit("game-play")};return o?(0,v.jsx)(b,{}):(0,v.jsx)("div",{children:(0,v.jsx)(w.M,{children:d.Z.map((function(t){var n=t.id,e=t.title,r=t.image;return(0,v.jsx)(p.Z,{iconId:n,title:e,image:r,handler:f},n)}))})})},S=e(9901),Z=e(8472),P=e(9083),_=e(168),T=e(6444),E=T.ZP.div(r||(r=(0,_.Z)(["\n\tp {\n\t\ttext-transform: uppercase;\n\t\tcolor: hsl(0, 11%, 89%);\n\t\tletter-spacing: 1px;\n\t\ttext-align: center;\n\n\t\t// Animation\n\t\tanimation-name: flash;\n\t\tanimation-duration: 1s;\n\t\tanimation-fill-mode: backwards;\n\n\t\t@-webkit-keyframes flash {\n\t\t\tfrom,\n\t\t\t50%,\n\t\t\tto {\n\t\t\t\topacity: 1;\n\t\t\t}\n\n\t\t\t25%,\n\t\t\t75% {\n\t\t\t\topacity: 0;\n\t\t\t}\n\t\t}\n\n\t\t@keyframes flash {\n\t\t\tfrom,\n\t\t\t50%,\n\t\t\tto {\n\t\t\t\topacity: 1;\n\t\t\t}\n\n\t\t\t25%,\n\t\t\t75% {\n\t\t\t\topacity: 0;\n\t\t\t}\n\t\t}\n\t}\n"]))),A=function(){var t=(0,c.C)((function(t){return t.onlineScorer})).resultOut,n=(0,c.C)((function(t){return t.onlinePlayers})).gamePlay,e=(0,c.C)((function(t){return t.opponentStatus})),r=e.opponentPickedMessage,o=e.opponentRestartedMessage,a=(0,s.useState)(""),l=(0,i.Z)(a,2),f=l[0],u=l[1],d=(0,c.T)();return(0,s.useEffect)((function(){return U.on("status",(function(t){d((0,j.YU)(t))})),U.on("connected",(function(){u("opponent reconnected!"),setTimeout((function(){u("")}),1e3)})),U.on("disconnected",(function(t){u(t),d((0,j.YU)("")),d((0,j.kG)(""))})),d((0,j.kG)("")),function(){U.off("status"),U.off("connected"),U.off("disconnected")}}),[]),(0,v.jsxs)(E,{children:[!t&&(0,v.jsx)("p",{children:r}),n&&t&&(0,v.jsx)("p",{children:o}),(0,v.jsx)("p",{children:f})]})},R=function(){var t=(0,c.C)((function(t){return t.onlineScorer})).score,n=(0,c.C)((function(t){return t.rules})).showRules,e=(0,c.T)(),r=function(){return e((0,P.Z)(!n))};return(0,v.jsxs)("div",{className:"Game Game__Container",children:[(0,v.jsx)(f.Z,{score:t}),(0,v.jsx)(C,{}),(0,v.jsx)(A,{}),n?(0,v.jsx)(S.Z,{closeHandler:r}):(0,v.jsx)(Z.Z,{openHandler:r})]})},O=e(2841),D=T.ZP.div(o||(o=(0,_.Z)(["\n\twidth: min(80%, 420px);\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 4rem;\n\tmargin-block: 10rem;\n\n\tbutton {\n\t\twidth: 100%;\n\n\t\t// Animation\n\t\tanimation-name: fadeInUp;\n\t\tanimation-duration: 1s;\n\t\tanimation-delay: 0.8s;\n\t\tanimation-fill-mode: backwards;\n\t}\n\n\tp {\n\t\tfont-size: 1rem;\n\t\tcolor: hsl(217, 72%, 86%);\n\t\tletter-spacing: 1.5px;\n\t\ttext-transform: uppercase;\n\t\ttext-align: center;\n\n\t\t&.invalid-name {\n\t\t\tanimation-name: wobble;\n\t\t\tanimation-duration: 1s;\n\t\t\tanimation-fill-mode: backwards;\n\t\t}\n\t}\n\n\t@keyframes wobble {\n\t\tfrom {\n\t\t\ttransform: translate3d(0, 0, 0);\n\t\t}\n\n\t\t15% {\n\t\t\ttransform: translate3d(-25%, 0, 0) rotate3d(0, 0, 1, -5deg);\n\t\t}\n\n\t\t30% {\n\t\t\ttransform: translate3d(20%, 0, 0) rotate3d(0, 0, 1, 3deg);\n\t\t}\n\n\t\t45% {\n\t\t\ttransform: translate3d(-15%, 0, 0) rotate3d(0, 0, 1, -3deg);\n\t\t}\n\n\t\t60% {\n\t\t\ttransform: translate3d(10%, 0, 0) rotate3d(0, 0, 1, 2deg);\n\t\t}\n\n\t\t75% {\n\t\t\ttransform: translate3d(-5%, 0, 0) rotate3d(0, 0, 1, -1deg);\n\t\t}\n\n\t\tto {\n\t\t\ttransform: translate3d(0, 0, 0);\n\t\t}\n\t}\n\n\t@-webkit-keyframes fadeInUp {\n\t\tfrom {\n\t\t\topacity: 0;\n\t\t\ttransform: translate3d(0, 100%, 0);\n\t\t}\n\n\t\tto {\n\t\t\topacity: 1;\n\t\t\ttransform: translate3d(0, 0, 0);\n\t\t}\n\t}\n\n\t@keyframes fadeInUp {\n\t\tfrom {\n\t\t\topacity: 0;\n\t\t\ttransform: translate3d(0, 100%, 0);\n\t\t}\n\n\t\tto {\n\t\t\topacity: 1;\n\t\t\ttransform: translate3d(0, 0, 0);\n\t\t}\n\t}\n"]))),H=T.ZP.input(a||(a=(0,_.Z)(["\n\twidth: 100%;\n\tfont-size: 1.1rem;\n\tcolor: hsl(217, 72%, 86%);\n\tfont-weight: 700;\n\tletter-spacing: 2px;\n\ttext-transform: uppercase;\n\tbackground-color: transparent;\n\toutline: 3px solid transparent;\n\tborder: 2px solid white;\n\tborder-radius: 10px;\n\tpadding: 0.8rem;\n\tmargin-block-end: 1rem;\n\n\t::placeholder {\n\t\tfont-size: 0.8rem;\n\t}\n\n\t// Animation\n\tanimation-name: fadeInDown;\n\tanimation-duration: 1s;\n\tanimation-fill-mode: backwards;\n\n\t@-webkit-keyframes fadeInDown {\n\t\tfrom {\n\t\t\topacity: 0;\n\t\t\ttransform: translate3d(0, -100%, 0);\n\t\t}\n\n\t\tto {\n\t\t\topacity: 1;\n\t\t\ttransform: translate3d(0, 0, 0);\n\t\t}\n\t}\n\n\t@keyframes fadeInDown {\n\t\tfrom {\n\t\t\topacity: 0;\n\t\t\ttransform: translate3d(0, -100%, 0);\n\t\t}\n\n\t\tto {\n\t\t\topacity: 1;\n\t\t\ttransform: translate3d(0, 0, 0);\n\t\t}\n\t}\n"]))),U=(0,l.io)("".concat({NODE_ENV:"production",PUBLIC_URL:"/Rock-Paper-Scissors-Lizard-Spock",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SERVER_URL)),I=function(){var t=(0,c.C)((function(t){return t.socket})),n=t.room,e=t.sockets,r=(0,c.C)((function(t){return t.onlinePlayers})).isPlaying,o=(0,s.useState)(""),a=(0,i.Z)(o,2),l=a[0],f=a[1],u=(0,c.T)();(0,s.useEffect)((function(){return U.on("connect",(function(){})),U.on("updated-users",(function(t){u((0,O.qs)(t))})),U.on("full",(function(t){f(t)})),2===e.length&&u((0,y.sB)(!0)),function(){U.off("connect"),U.off("updated-users"),U.off("start")}}),[e,u]);var d=function(t){u((0,O.tu)(t.target.value.trim()))};return(0,v.jsx)(v.Fragment,{children:r?(0,v.jsx)(R,{}):(0,v.jsxs)(D,{children:[(0,v.jsxs)("form",{onSubmit:function(t){t.preventDefault(),u((0,y.c7)(!0)),n&&U.emit("join-room",n)&&f("You created room ".concat(n," & joined"))},children:[(0,v.jsx)(H,{type:"text",onChange:d,"aria-label":"join-room",placeholder:"type room code"}),(0,v.jsx)("br",{}),(0,v.jsx)(h.Z,{type:"submit",btnStyle:"primary",children:"create room"})]}),(0,v.jsxs)("form",{onSubmit:function(t){t.preventDefault(),n&&U.emit("join-room",n)},children:[(0,v.jsx)(H,{type:"text",onChange:d,"aria-label":"join-room",placeholder:"type room code"}),(0,v.jsx)("br",{}),(0,v.jsx)(h.Z,{type:"submit",btnStyle:"primary",children:"join room"})]}),(0,v.jsx)("p",{children:l}),l&&!l.includes("two players")&&(0,v.jsx)("p",{children:"Wait for an opponent to join"})]})})}}}]);
//# sourceMappingURL=157.8be21523.chunk.js.map